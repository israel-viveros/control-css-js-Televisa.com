/*
 Version: 	1.0.4
 */
$(function() {
    $('.StageContainerThumbs').carouFredSel({
        auto: false,
        prev: ".PrevCarouselMundial",
        next: ".NextCarouselMundial",
        responsive: true,
        swipe: {
            onTouch: true
        },
        items: {
            visible: 6
        },
        scroll: {
            items: 1
        }
    });
    $('.StageContainterLarge').carouFredSel({
        auto: true,
        responsive: true,
        width: "100%",
        swipe: {
            onTouch: true
        },
        items: {
            visible: 1
        },
        synchronise: "#StageContainerThumbs",
        scroll: {
            timeoutDuration: 5000,
            onBefore: function(data) {
                $("#dock-stage ul li").removeClass('active');
                $("#dock-stage-mobile ul li").removeClass('active');
                $("#dock-stage ul li").find("a").animate({'marginTop': '69px'}, 500);
                $("#dock-stage ul li").find("a span").fadeIn(500);
                $(".descriptionOutMundial .TitleEdiStageContainerLarge").hide("fast").removeClass("active");
                
            },
            onAfter: function(data) {
                var src0 = data.items.visible.first().data("statuslider");
                var NuevaClase = "";
                if(src0 > 5){
                    var src = 1;
                }else{
                    var src = parseInt(src0+1);
                }

                switch(src0)
                    {
                    case 1:
                      var claseoriginal=$("#dock-stage").find("li").eq(0).attr("class");
                      NuevaClase = claseoriginal;
                      
                      break;
                    case 2:
                      var claseoriginal=$("#dock-stage").find("li").eq(1).attr("class");
                      NuevaClase = claseoriginal;
                      
                      break;
                    case 3:
                      var claseoriginal=$("#dock-stage").find("li").eq(2).attr("class");
                      NuevaClase = claseoriginal;
                      
                      break;
                    case 4:
                      var claseoriginal=$("#dock-stage").find("li").eq(3).attr("class");
                      NuevaClase = claseoriginal;
                      
                      break;
                    case 5:
                      var claseoriginal=$("#dock-stage").find("li").eq(4).attr("class");
                      NuevaClase = claseoriginal;
                      
                      break;
                    case 6:
                      var claseoriginal=$("#dock-stage").find("li").eq(5).attr("class");
                      NuevaClase = claseoriginal;
                      
                      break;
                    }

                $(".descriptionOutMundial .TitleEdiStageContainerLarge").each(function() {
                   if (src === 1) { srcmvl = 6; }
                   else { srcmvl = src - 1; }
                    if ($(this).data("statuslider") === srcmvl) {
                        var obj = $(this);                        
                        obj.show("fast").addClass("active");
                    }
                });
                $("#dock-stage ul li").each(function() {
                    $(this).children("a").find("span").removeClass('bg-television bg-noticieros bg-deportes bg-lifestyle bg-entretenimiento bg-corporativo');
                    if ($(this).data("statuslider") === src0) {   
                    $(this).children("a").find("span").addClass(NuevaClase);                     
                    }
                    if ($(this).data("statuslider") === src) {                                                
                        var obj = $(this);
                        obj.addClass("active");
                        obj.find("a").animate({'marginTop': '-60px'}, 500);
                        obj.find("a span").fadeOut(500);
                    }
                });
                $("#dock-stage-mobile ul li").each(function() {
                   if (src === 1) { srcmovil = 6; }
                   else { srcmovil = src - 1; }
                    if ($(this).data("statuslider") === srcmovil) {
                        var obj = $(this);
                        obj.addClass("active");
                    }
                });
            }
        }

    });


    $(".StageContainerThumbs").find("li").bind("click", function(event) {
        event.preventDefault();
        var thunNumb = $(this).data("statuslider");
        $(".StageContainterLarge").trigger('slideTo', ['li[data-statuslider="' + thunNumb + '"]']);
    });

    $("#dock-stage").find("li").bind("click", function(event) {
        event.preventDefault();
        var thunNumb = $(this).data("statuslider");
        $(".StageContainterLarge").trigger('slideTo', ['li[data-statuslider="' + thunNumb + '"]']);
    });


    $(window).bind("resize", resizeWindow);
    function resizeWindow(e) {
        var newWindowWidth = $(window).width();
        var corto = $(".buttonViewMoreNts a").data("corto");
        var largo = $(".buttonViewMoreNts a").data("largo");
        if (newWindowWidth < 500) {
            $(".StageContainerThumbs").trigger("configuration", ['items', 6]);
            $(".buttonViewMoreNts a").text(corto);
        } else {
            $(".StageContainerThumbs").trigger("configuration", ['items', 4]);
            $(".buttonViewMoreNts a").text(largo);
        }
        var anchoImgR = $(".StageContainterLarge").find("li").outerWidth();
        var resulRes = anchoImgR / 1.33;
        var primero = $(".StageContainterLarge li").parent("ul");
        var segundo = $(".StageContainterLarge").parent(".caroufredsel_wrapper");
        var tercero = $(".StageContainterLarge li");
        primero.css({height: resulRes});
        segundo.css({height: resulRes});
        tercero.css({height: resulRes});
    }
    resizeWindow();


    //
    
    $("#dock-stage").find("li").hover(function(){
      $(this).find("a").animate({'marginTop': '-60px'}, 500);
      $(this).find("a span").fadeOut(500);
      //alert("ente")
      //$(this).find("img").fadeIn(500);  
    },function(){
      $(this).find("a").animate({'marginTop': '69px'}, 500);
      $(this).find("a span").fadeIn(500);
      //alert("sale");
     // $(this).find("img").fadeOut(500);
    });

});